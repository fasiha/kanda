import{m as v,c as g,g as w,R as m}from"./common/mobx.esm-6962debf.js";import"./common/process-06825524.js";import"./common/_commonjsHelpers-267afc3a.js";import{r as c}from"./common/index-e937f84e.js";import{r as y}from"./common/index-7ecb1b58.js";if(!c.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!v)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function _(e){e()}function R(e){e||(e=_),g({reactionScheduler:e})}var E=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),a,o=[],i;try{for(;(r===void 0||r-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return o},k=[];function T(){var e=E(c.useState(0),2),r=e[1],t=c.useCallback(function(){r(function(n){return n+1})},k);return t}function L(e){return w(e)}function O(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,A=1e4,u=new Set(),f;function h(){f===void 0&&(f=setTimeout(I,A))}function S(e){u.add(e),h()}function x(e){u.delete(e)}function I(){f=void 0;var e=Date.now();u.forEach(function(r){var t=r.current;t&&(e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,u.delete(r)))}),u.size>0&&h()}function p(e){return"observer"+e}function C(e,r){r===void 0&&(r="observed");var t=T(),n=c.useRef(null);if(!n.current){var a=new m(p(r),function(){o.mounted?t():(a.dispose(),n.current=null)}),o=O(a);n.current=o,S(n)}var i=n.current.reaction;c.useDebugValue(i,L),c.useEffect(function(){return x(n),n.current?n.current.mounted=!0:(n.current={reaction:new m(p(r),function(){t()}),cleanAt:Infinity},t()),function(){n.current.reaction.dispose(),n.current=null}},[]);var s,d;if(i.track(function(){try{s=e()}catch(b){d=b}}),d)throw d;return s}var l=function(){return l=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l.apply(this,arguments)};function D(e,r){var t=l({forwardRef:!1},r),n=e.displayName||e.name,a=function(i,s){return C(function(){return e(i,s)},n)};a.displayName=n;var o;return t.forwardRef?o=c.memo(c.forwardRef(a)):o=c.memo(a),M(e,o),o.displayName=n,o}var P={$$typeof:!0,render:!0,compare:!0,type:!0};function M(e,r){Object.keys(e).forEach(function(t){P[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}var H=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),a,o=[],i;try{for(;(r===void 0||r-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return o};R(y.unstable_batchedUpdates);export{D as observer};
