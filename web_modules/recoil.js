import{c as Qa}from"./common/_commonjsHelpers-738d5c9d.js";import{r as Ib}from"./common/index-8a98c868.js";import{r as Jb}from"./common/index-9efaea24.js";var Kb=Qa(function(Ra,m){function Sa(a){return a&&"object"==typeof a&&"default"in a?a.default:a}Object.defineProperty(m,"__esModule",{value:!0});var R=Sa(Ib),Y=Sa(Jb);function D(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class qa{constructor(a){D(this,"key",void 0),this.key=a}}class Ta extends qa{}class Ua extends qa{}var Z={AbstractRecoilValue:qa,RecoilState:Ta,RecoilValueReadOnly:Ua,isRecoilValue:function(a){return a instanceof Ta||a instanceof Ua}},Mb=Z.AbstractRecoilValue,Nb=Z.RecoilState,Ob=Z.RecoilValueReadOnly,Pb=Z.isRecoilValue;function ra(a){return a&&a.default||a}var M=ra(Object.freeze({__proto__:null,AbstractRecoilValue:Mb,RecoilState:Nb,RecoilValueReadOnly:Ob,isRecoilValue:Pb}));class Va{}const Qb=new Va();class Rb extends Error{constructor(a){super(`Tried to set the value of Recoil selector ${a} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const _=new Map();class Wa extends Error{}var E={nodes:_,registerNode:function(a){return _.has(a.key)&&a.key,_.set(a.key,a),null==a.set?new M.RecoilValueReadOnly(a.key):new M.RecoilState(a.key)},getNode:function(a){const b=_.get(a);if(null==b)throw new Wa(`Missing definition for RecoilValue: "${a}""`);return b},NodeMissingError:Wa,DefaultValue:Va,DEFAULT_VALUE:Qb,RecoilValueNotReady:Rb},Sb={enqueueExecution:function(a,b){b()}},$={setByAddingToSet:function(a,b){const c=new Set(a);return c.add(b),c},setByDeletingFromSet:function(a,b){const c=new Set(a);return c.delete(b),c},mapBySettingInMap:function(a,b,c){const d=new Map(a);return d.set(b,c),d},mapByUpdatingInMap:function(a,b,c){const d=new Map(a);return d.set(b,c(d.get(b))),d},mapByDeletingFromMap:function(a,b){const c=new Map(a);return c.delete(b),c}},t={trace:function(a,b,c){return c()},wrap:function(a){return a}};const{mapByDeletingFromMap:Xa,mapBySettingInMap:Ya,mapByUpdatingInMap:Za,setByAddingToSet:Tb}=$,{getNode:_a}=E,$a=Object.freeze(new Map()),Ub=Object.freeze(new Set());class Vb extends Error{}function ab(a,b,c){return _a(c).get(a,b)}let Wb=0;var aa={getNodeLoadable:ab,peekNodeLoadable:function(a,b,c){return ab(a,b,c)[1]},setNodeValue:function(a,b,c,d){const e=_a(c);if(null==e.set)throw new Vb("Attempt to set read-only RecoilValue: "+c);const[f,i]=e.set(a,b,d);return[f,i]},setUnvalidatedAtomValue:function(a,b,c){return{...a,atomValues:Xa(a.atomValues,b),nonvalidatedAtoms:Ya(a.nonvalidatedAtoms,b,c),dirtyAtoms:Tb(a.dirtyAtoms,b)}},subscribeComponentToNode:function(a,b,c){const d=Wb++;return[{...a,nodeToComponentSubscriptions:Za(a.nodeToComponentSubscriptions,b,e=>Ya(null!=e?e:$a,d,["TODO debug name",c]))},function(e){return{...e,nodeToComponentSubscriptions:Za(e.nodeToComponentSubscriptions,b,f=>Xa(null!=f?f:$a,d))}}]},fireNodeSubscriptions:function(a,b,c){var d;const e="enqueue"===c&&null!==(d=a.getState().nextTree)&&void 0!==d?d:a.getState().currentTree,f=function(g,h){const j=new Set(),k=new Set(),l=Array.from(h);for(let p=l.pop();p;p=l.pop()){var o;j.add(p),k.add(p);const q=null!==(o=g.nodeToNodeSubscriptions.get(p))&&void 0!==o?o:Ub;for(const r of q)k.has(r)||l.push(r)}return j}(e,b);for(const g of f){var i;(null!==(i=e.nodeToComponentSubscriptions.get(g))&&void 0!==i?i:[]).forEach(([h,j])=>{"enqueue"===c?a.getState().queuedComponentCallbacks.push(j):j(e)})}t.trace("value became available, waking components",Array.from(b).join(", "),()=>{const g=a.getState().suspendedComponentResolvers;g.forEach(h=>h()),g.clear()})},detectCircularDependencies:function a(b,c){if(!c.length)return;const d=c[c.length-1],e=b.nodeToNodeSubscriptions.get(d);if(!(null==e?void 0:e.size))return;const f=c[0];if(e.has(f))throw new Error("Recoil selector has circular dependencies: "+[...c,f].reverse().join(" â†’ "));for(const i of e)a(b,[...c,i])}},N=function(a,b){const c=new Map();return a.forEach((d,e)=>{c.set(e,b(d,e))}),c};const{getNodeLoadable:Xb,peekNodeLoadable:Yb,setNodeValue:Zb,setUnvalidatedAtomValue:_b,subscribeComponentToNode:$b}=aa,{RecoilValueNotReady:ac}=E,{AbstractRecoilValue:bc,RecoilState:cc,RecoilValueReadOnly:dc}=M;var bb={RecoilValueReadOnly:dc,AbstractRecoilValue:bc,RecoilState:cc,valueFromValueOrUpdater:function(a,{key:b},c){if("function"==typeof c){var d;const e=a.getState(),f=null!==(d=e.nextTree)&&void 0!==d?d:e.currentTree,i=Yb(a,f,b);if("loading"===i.state)throw new ac(b);if("hasError"===i.state)throw i.contents;return c(i.contents)}return c},getRecoilValueAsLoadable:function(a,{key:b}){let c;return t.trace("get RecoilValue",b,()=>a.replaceState(t.wrap(d=>{const[e,f]=Xb(a,d,b);return c=f,e}))),c},setRecoilValue:function(a,{key:b},c){t.trace("set RecoilValue",b,()=>a.replaceState(t.wrap(d=>{const[e,f]=Zb(a,d,b,c);return a.fireNodeSubscriptions(f,"enqueue"),e})))},setUnvalidatedRecoilValue:function(a,{key:b},c){t.trace("set unvalidated persisted atom",b,()=>a.replaceState(t.wrap(d=>{const e=_b(d,b,c);return a.fireNodeSubscriptions(new Set([b]),"enqueue"),e})))},subscribeToRecoilValue:function(a,{key:b},c){let d,e;return t.trace("subscribe component to RecoilValue",b,()=>a.replaceState(t.wrap(f=>([d,e]=$b(f,b,c),d)))),{release:f=>f.replaceState(e)}}};function cb(){return{transactionMetadata:{},atomValues:new Map(),nonvalidatedAtoms:new Map(),dirtyAtoms:new Set(),nodeDeps:new Map(),nodeToNodeSubscriptions:new Map(),nodeToComponentSubscriptions:new Map()}}function db(a){return{currentTree:a,nextTree:null,transactionSubscriptions:new Map(),queuedComponentCallbacks:[],suspendedComponentResolvers:new Set()}}var eb={makeEmptyTreeState:cb,makeEmptyStoreState:function(){return db(cb())},makeStoreState:db};const{DEFAULT_VALUE:ec}=E,{getRecoilValueAsLoadable:fc,setRecoilValue:fb,valueFromValueOrUpdater:gc}=bb,{makeEmptyTreeState:hc,makeStoreState:ic}=eb;class ba{constructor(a){D(this,"_store",void 0),D(this,"getLoadable",b=>fc(this._store,b)),D(this,"getPromise",b=>this.getLoadable(b).toPromise()),D(this,"map",b=>{const c=new ta(this._store.getState().currentTree);return b(c),sa(c.getStore_INTERNAL().getState().currentTree)}),D(this,"asyncMap",async b=>{const c=new ta(this._store.getState().currentTree);return await b(c),sa(c.getStore_INTERNAL().getState().currentTree)}),this._store=function(b){const c=ic(b);return{getState:()=>c,replaceState:d=>{c.currentTree=d(c.currentTree)},subscribeToTransactions:()=>{throw new Error("Cannot subscribe to Snapshots")},addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")},fireNodeSubscriptions:()=>{}}}(a)}getStore_INTERNAL(){return this._store}}function gb(a){return{transactionMetadata:{...a.transactionMetadata},atomValues:new Map(a.atomValues),nonvalidatedAtoms:new Map(a.nonvalidatedAtoms),dirtyAtoms:new Set(a.dirtyAtoms),nodeDeps:new Map(a.nodeDeps),nodeToNodeSubscriptions:N(a.nodeToNodeSubscriptions,b=>new Set(b)),nodeToComponentSubscriptions:new Map()}}function sa(a){return new ba(gb(a))}class ta extends ba{constructor(a){super(gb(a)),D(this,"set",(b,c)=>{const d=this.getStore_INTERNAL(),e=gc(d,b,c);fb(d,b,e)}),D(this,"reset",b=>fb(this.getStore_INTERNAL(),b,ec))}}var ca={Snapshot:ba,MutableSnapshot:ta,freshSnapshot:function(){return new ba(hc())},cloneSnapshot:sa},jc=ca.Snapshot,kc=ca.MutableSnapshot,lc=ca.freshSnapshot,mc=ca.cloneSnapshot,I=function(a,b){if(null!=a)return a;throw new Error(null!=b?b:"Got unexpected null or undefined")},hb=ra(Object.freeze({__proto__:null,Snapshot:jc,MutableSnapshot:kc,freshSnapshot:lc,cloneSnapshot:mc}));const{useContext:nc,useEffect:oc,useRef:ua,useState:pc}=R,{fireNodeSubscriptions:qc,setNodeValue:rc,setUnvalidatedAtomValue:sc}=aa,{freshSnapshot:tc}=hb,{makeEmptyStoreState:ib,makeStoreState:uc}=eb;function S(){throw new Error("This component must be used inside a <RecoilRoot> component.")}const vc=Object.freeze({getState:S,replaceState:S,subscribeToTransactions:S,addTransactionMetadata:S,fireNodeSubscriptions:S});function jb(a){null===a.nextTree&&(a.nextTree={...a.currentTree,dirtyAtoms:new Set(),transactionMetadata:{}})}const kb=R.createContext({current:vc}),lb=()=>nc(kb);function wc(a){const b=lb(),[c,d]=pc([]);return a.setNotifyBatcherOfChange(()=>d({})),oc(()=>{Sb.enqueueExecution("Batcher",()=>{const e=b.current.getState(),{nextTree:f}=e;if(null===f)return;f.dirtyAtoms.size&&e.transactionSubscriptions.forEach(i=>i(b.current)),e.queuedComponentCallbacks.forEach(i=>i(f)),e.queuedComponentCallbacks.splice(0,e.queuedComponentCallbacks.length),e.currentTree=f,e.nextTree=null})}),null}let xc=0;var mb={useStoreRef:lb,RecoilRoot:function({initializeState_DEPRECATED:a,initializeState:b,children:c}){let d;const e=ua(null),f={getState:()=>d.current,replaceState:g=>{const h=i.current.getState();jb(h);const j=I(h.nextTree),k=g(j);k!==j&&(h.nextTree=k,I(e.current)())},subscribeToTransactions:g=>{const h=xc++;return i.current.getState().transactionSubscriptions.set(h,g),{release:()=>{i.current.getState().transactionSubscriptions.delete(h)}}},addTransactionMetadata:g=>{jb(i.current.getState());for(const h of Object.keys(g))I(i.current.getState().nextTree).transactionMetadata[h]=g[h]},fireNodeSubscriptions:function(g,h){qc(i.current,g,h)}},i=ua(f);return d=ua(null!=a?function(g,h){const j=ib();return h({set:(k,l)=>{j.currentTree=rc(g,j.currentTree,k.key,l)[0]},setUnvalidatedAtomValues:k=>{k.forEach((l,o)=>{j.currentTree=sc(j.currentTree,o,l)})}}),j}(f,a):null!=b?function(g){const h=tc().map(g);return uc(h.getStore_INTERNAL().getState().currentTree)}(b):ib()),R.createElement(kb.Provider,{value:i},R.createElement(wc,{setNotifyBatcherOfChange:function(g){e.current=g}}),c)}},da=function(a,...b){const c=new Set();pa:for(const d of a){for(const e of b)if(e.has(d))continue pa;c.add(d)}return c},yc=function(a,b){const c=new Map();for(const[d,e]of a)b(e,d)&&c.set(d,e);return c},zc=function(a,...b){const c=new Set();pa:for(const d of a){for(const e of b)if(!e.has(d))continue pa;c.add(d)}return c},Ac=function(a,b){if(!a)throw new Error(b)},Bc=function(...a){const b=new Map();for(let c=0;c<a.length;c++){const d=a[c].keys();let e;for(;!(e=d.next()).done;)b.set(e.value,a[c].get(e.value))}return b};const{useCallback:u,useEffect:va,useMemo:Cc,useRef:wa,useState:xa}=R,{peekNodeLoadable:Dc,setNodeValue:Ec}=aa,{DEFAULT_VALUE:nb,getNode:Fc,nodes:Gc}=E,{useStoreRef:B}=mb,{AbstractRecoilValue:ya,getRecoilValueAsLoadable:Hc,setRecoilValue:T,setUnvalidatedRecoilValue:Ic,subscribeToRecoilValue:Jc,valueFromValueOrUpdater:ob}=bb,{Snapshot:me,cloneSnapshot:U}=hb,{setByAddingToSet:Kc}=$;function J(){const a=B(),[b,c]=xa([]),d=wa(new Set());d.current=new Set();const e=wa(new Set()),f=wa(new Map()),i=u(g=>{const h=f.current.get(g);h&&(h.release(a.current),f.current.delete(g))},[a,f]);return va(()=>{const g=a.current;function h(j,k){f.current.has(k)&&c([])}da(d.current,e.current).forEach(j=>{if(f.current.has(j))return;const k=Jc(g,new ya(j),l=>{t.trace("RecoilValue subscription fired",j,()=>{h(0,j)})});f.current.set(j,k),t.trace("initial update on subscribing",j,()=>{h(g.getState(),j)})}),da(e.current,d.current).forEach(j=>{i(j)}),e.current=d.current}),va(()=>{const g=f.current;return()=>g.forEach((h,j)=>i(j))},[i]),Cc(()=>{function g(k){return l=>{const o=ob(a.current,k,l);T(a.current,k,o)}}function h(k){return d.current.has(k.key)||(d.current=Kc(d.current,k.key)),Hc(a.current,k)}function j(k){return function(l,o,p){if("hasValue"===l.state)return l.contents;throw"loading"===l.state?new Promise(q=>{p.current.getState().suspendedComponentResolvers.add(q)}):"hasError"===l.state?l.contents:new Error(`Invalid value of loadable atom "${o.key}"`)}(h(k),k,a)}return{getRecoilValue:j,getRecoilValueLoadable:h,getRecoilState:function(k){return[j(k),g(k)]},getRecoilStateLoadable:function(k){return[h(k),g(k)]},getSetRecoilState:g,getResetRecoilState:function(k){return()=>T(a.current,k,nb)}}},[d,a])}function V(a){const b=B();va(()=>b.current.subscribeToTransactions(a).release,[a,b])}function Lc(){const[a,b]=xa(0);V(u(()=>b(e=>e+1),[]));const c=B();return{transactionMetadata:{...(d=c.current.getState().currentTree).transactionMetadata},atomValues:new Map(d.atomValues),nonvalidatedAtoms:new Map(d.nonvalidatedAtoms),dirtyAtoms:new Set(d.dirtyAtoms),nodeDeps:new Map(d.nodeDeps),nodeToNodeSubscriptions:N(d.nodeToNodeSubscriptions,e=>new Set(e)),nodeToComponentSubscriptions:N(d.nodeToComponentSubscriptions,e=>new Map(e))};var d}function pb(a){const b=a.atomValues,c=N(yc(b,(d,e)=>{var f;const i=null===(f=Fc(e).options)||void 0===f?void 0:f.persistence_UNSTABLE;return null!=i&&"none"!==i.type&&"hasValue"===d.state}),d=>d.contents);return Bc(a.nonvalidatedAtoms,c)}function qb(){const a=B();return u(b=>{Y.unstable_batchedUpdates(()=>{a.current.replaceState(c=>{const d=b.getStore_INTERNAL().getState().currentTree,e=new Set();for(const g of[c.atomValues.keys(),d.atomValues.keys()])for(const h of g){var f,i;(null===(f=c.atomValues.get(h))||void 0===f?void 0:f.contents)!==(null===(i=d.atomValues.get(h))||void 0===i?void 0:i.contents)&&e.add(h)}return a.current.fireNodeSubscriptions(e,"enqueue"),{...d,nodeToComponentSubscriptions:c.nodeToComponentSubscriptions}})})},[a])}class rb{}const Mc=new rb();var Nc={useRecoilCallback:function(a,b){const c=B(),d=qb();return u((...e)=>{const f=U(c.current.getState().currentTree);function i(j,k){const l=ob(c.current,j,k);T(c.current,j,l)}function g(j){T(c.current,j,nb)}let h=Mc;return Y.unstable_batchedUpdates(()=>{h=a({set:i,reset:g,snapshot:f,gotoSnapshot:d})(...e)}),h instanceof rb&&Ac(!1),h},null!=b?[...b,c]:void 0)},useRecoilValue:function(a){return J().getRecoilValue(a)},useRecoilValueLoadable:function(a){return J().getRecoilValueLoadable(a)},useRecoilState:function(a){const b=J(),[c]=b.getRecoilState(a);return[c,u(b.getSetRecoilState(a),[a])]},useRecoilStateLoadable:function(a){const b=J(),[c]=b.getRecoilStateLoadable(a);return[c,u(b.getSetRecoilState(a),[a])]},useSetRecoilState:function(a){return u(J().getSetRecoilState(a),[a])},useResetRecoilState:function(a){return u(J().getResetRecoilState(a),[a])},useRecoilInterface:J,useSnapshotWithStateChange_DEPRECATED:function(a){const b=B();let c=Lc();a(({key:f},i)=>{[c]=Ec(b.current,c,f,Dc(b.current,c,f).map(i))});const d=N(c.atomValues,f=>f.contents),e=zc(c.dirtyAtoms,new Set(d.keys()));return{atomValues:d,updatedAtoms:e}},useTransactionSubscription_DEPRECATED:V,useTransactionObservation_DEPRECATED:function(a){V(u(b=>{const c=b.getState().currentTree;let d=b.getState().nextTree;d||(d=b.getState().currentTree);const e=pb(d),f=pb(c),i=N(Gc,h=>{var j,k,l,o,p,q;return{persistence_UNSTABLE:{type:null!==(j=null===(k=h.options)||void 0===k||null===(l=k.persistence_UNSTABLE)||void 0===l?void 0:l.type)&&void 0!==j?j:"none",backButton:null!==(o=null===(p=h.options)||void 0===p||null===(q=p.persistence_UNSTABLE)||void 0===q?void 0:q.backButton)&&void 0!==o&&o}}}),g=new Set(d.dirtyAtoms);a({atomValues:e,previousAtomValues:f,atomInfo:i,modifiedAtoms:g,transactionMetadata:{...d.transactionMetadata}})},[a]))},useRecoilTransactionObserver:function(a){V(u(b=>{const c=b.getState().currentTree;let d=b.getState().nextTree;d||(d=c),a({snapshot:U(d),previousSnapshot:U(c)})},[a]))},useRecoilSnapshot:function(){const a=B(),[b,c]=xa(()=>U(a.current.getState().currentTree));return V(u(d=>{var e;return c(U(null!==(e=d.getState().nextTree)&&void 0!==e?e:d.getState().currentTree))},[])),b},useGoToSnapshot_DEPRECATED:function(){const a=B();return b=>{Y.unstable_batchedUpdates(()=>{b.updatedAtoms.forEach(c=>{T(a.current,new ya(c),b.atomValues.get(c))})})}},useGotoRecoilSnapshot:qb,useSetUnvalidatedAtomValues:function(){const a=B();return(b,c={})=>{Y.unstable_batchedUpdates(()=>{a.current.addTransactionMetadata(c),b.forEach((d,e)=>Ic(a.current,new ya(e),d))})}}},s=function(a){return!!a&&"function"==typeof a.then};const za={getValue(){if("hasValue"!==this.state)throw this.contents;return this.contents},toPromise(){return"hasValue"===this.state?Promise.resolve(this.contents):"hasError"===this.state?Promise.reject(this.contents):this.contents},valueMaybe(){return"hasValue"===this.state?this.contents:void 0},valueOrThrow(){if("hasValue"!==this.state)throw new Error(`Loadable expected value, but in "${this.state}" state`);return this.contents},errorMaybe(){return"hasError"===this.state?this.contents:void 0},errorOrThrow(){if("hasError"!==this.state)throw new Error(`Loadable expected error, but in "${this.state}" state`);return this.contents},promiseMaybe(){return"loading"===this.state?this.contents:void 0},promiseOrThrow(){if("loading"!==this.state)throw new Error(`Loadable expected promise, but in "${this.state}" state`);return this.contents},map(a){if("hasError"===this.state)return this;if("hasValue"===this.state)try{const b=a(this.contents);return s(b)?O(b):Aa(b)}catch(b){return s(b)?O(b.next(()=>a(this.contents))):Ba(b)}if("loading"===this.state)return O(this.contents.then(a).catch(b=>{if(s(b))return b.then(()=>a(this.contents));throw b}));throw new Error("Invalid Loadable state")}};function Aa(a){return Object.freeze({state:"hasValue",contents:a,...za})}function Ba(a){return Object.freeze({state:"hasError",contents:a,...za})}function O(a){return Object.freeze({state:"loading",contents:a,...za})}var Ca={loadableWithValue:Aa,loadableWithError:Ba,loadableWithPromise:O,loadableLoading:function(){return O(new Promise(()=>{}))},loadableAll:function(a){return a.every(b=>"hasValue"===b.state)?Aa(a.map(b=>b.contents)):a.some(b=>"hasError"===b.state)?Ba(I(a.find(b=>"hasError"===b.state),"Invalid loadable passed to loadableAll").contents):O(Promise.all(a.map(b=>b.contents)))}},Oc=function(a){var b,c;if("undefined"==typeof window)return!1;const d=null!==(c=(null!=a?null!==(b=a.ownerDocument)&&void 0!==b?b:a:document).defaultView)&&void 0!==c?c:window;return!(null==a||!("function"==typeof d.Node?a instanceof d.Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))},ea=function a(b){if("object"==typeof b&&!function(c){if(null===c||"object"!=typeof c)return!0;switch(typeof c.$$typeof){case"symbol":case"number":return!0}return null!=c["@@__IMMUTABLE_ITERABLE__@@"]||null!=c["@@__IMMUTABLE_KEYED__@@"]||null!=c["@@__IMMUTABLE_INDEXED__@@"]||null!=c["@@__IMMUTABLE_ORDERED__@@"]||null!=c["@@__IMMUTABLE_RECORD__@@"]||(!!Oc(c)||!!s(c))}(b)){Object.freeze(b);for(const c in b)if(Object.prototype.hasOwnProperty.call(b,c)){const d=b[c];"object"!=typeof d||null==d||Object.isFrozen(d)||a(d)}Object.seal(b)}};const fa=Symbol("ArrayKeyedMap"),Pc=new Map();class sb{constructor(a){if(this._base=new Map(),a instanceof sb)for(const[b,c]of a.entries())this.set(b,c);else if(a)for(const[b,c]of a)this.set(b,c);return this}get(a){const b=Array.isArray(a)?a:[a];let c=this._base;return b.forEach(d=>{var e;c=null!==(e=c.get(d))&&void 0!==e?e:Pc}),void 0===c?void 0:c.get(fa)}set(a,b){const c=Array.isArray(a)?a:[a];let d=this._base,e=d;return c.forEach(f=>{e=d.get(f),e||(e=new Map(),d.set(f,e)),d=e}),e.set(fa,b),this}delete(a){const b=Array.isArray(a)?a:[a];let c=this._base,d=c;return b.forEach(e=>{d=c.get(e),d||(d=new Map(),c.set(e,d)),c=d}),d.delete(fa),this}entries(){const a=[];return function b(c,d){c.forEach((e,f)=>{f===fa?a.push([d,e]):b(e,d.concat(f))})}(this._base,[]),a.values()}toBuiltInMap(){return new Map(this.entries())}}var Qc=sb,Da=function(){return new Qc()},tb=function(a,b,c){const d=a.entries();let e=d.next();for(;!e.done;){const f=e.value;if(!b.call(c,f[1],f[0],a))return!1;e=d.next()}return!0},Rc=function(a,b){return a.size===b.size&&tb(a,c=>b.has(c))},Sc={startPerfBlock:function(a){return()=>null}};Object.freeze(new Set());const{mapBySettingInMap:Tc,mapByUpdatingInMap:ub,setByAddingToSet:Uc,setByDeletingFromSet:Vc}=$,{detectCircularDependencies:ne,getNodeLoadable:Ea,setNodeValue:Wc}=aa,{loadableWithError:Fa,loadableWithPromise:vb,loadableWithValue:wb}=Ca,{DEFAULT_VALUE:Xc,RecoilValueNotReady:Yc,registerNode:xb}=E,{startPerfBlock:Zc}=Sc,{isRecoilValue:_c}=M,ga=Object.freeze(new Set());function yb(a){const b=[];for(const c of Array.from(a.keys()).sort()){const d=I(a.get(c));b.push(c),b.push(d.contents)}return b}var ha=function(a){const{key:b,get:c,cacheImplementation_UNSTABLE:d}=a,e=null!=a.set?a.set:void 0;let f=null!=d?d:Da();function i(h,j){var k;let l=j;const o=null!==(k=j.nodeDeps.get(b))&&void 0!==k?k:ga,p=yb(new Map(Array.from(o).sort().map(C=>{const[H,y]=Ea(h,l,C);return l=H,[C,y]}))),q=f.get(p);if(null!=q)return[l,q];const[r,v,G]=function(C,H){var y;const[z,ee,Fb]=function(K,L){const na=Zc(b);let oa=L;const Pa=new Map();function Gb({key:A}){let x;if([oa,x]=Ea(K,oa,A),Pa.set(A,x),"hasValue"===x.state)return x.contents;throw x.contents}try{const A=c({get:Gb}),x=_c(A)?Gb(A):A,Q=s(x)?vb(x.finally(na)):(na(),wb(x));return[oa,Q,Pa]}catch(A){const x=s(A)?vb(A.then(()=>{let Q=Fa(new Error("Internal Recoil Selector Error"));if(K.replaceState(he=>{let Hb;return[Hb,Q]=i(K,he),Hb}),"hasError"===Q.state)throw Q.contents;return Q.contents}).finally(na)):(na(),Fa(A));return[oa,x,Pa]}}(C,H);let w=z;const Oa=null!==(y=H.nodeDeps.get(b))&&void 0!==y?y:ga,ma=new Set(Fb.keys());w=Rc(Oa,ma)?w:{...w,nodeDeps:Tc(w.nodeDeps,b,ma)};const fe=da(ma,Oa),ge=da(Oa,ma);for(const K of fe)w={...w,nodeToNodeSubscriptions:ub(w.nodeToNodeSubscriptions,K,L=>Uc(null!=L?L:ga,b))};for(const K of ge)w={...w,nodeToNodeSubscriptions:ub(w.nodeToNodeSubscriptions,K,L=>Vc(null!=L?L:ga,b))};return[w,ee,Fb]}(h,l);l=r;const la=yb(G);return function(C,H,y){"loading"!==y.state?!0==!a.dangerouslyAllowMutability&&ea(y.contents):y.contents.then(z=>(!0==!a.dangerouslyAllowMutability&&ea(z),f=f.set(H,wb(z)),C.fireNodeSubscriptions(new Set([b]),"now"),z)).catch(z=>(s(z)||(!0==!a.dangerouslyAllowMutability&&ea(z),f=f.set(H,Fa(z)),C.fireNodeSubscriptions(new Set([b]),"now")),z)),f=f.set(H,y)}(h,la,v),[l,v]}function g(h,j){return i(h,j)}return null!=e?xb({key:b,options:a,get:g,set:function(h,j,k){let l=j;const o=new Set();function p({key:r}){const[v,G]=Ea(h,l,r);if(l=v,"hasValue"===G.state)return G.contents;throw"loading"===G.state?new Yc(r):G.contents}function q(r,v){const G="function"==typeof v?v(p(r)):v;let la;[l,la]=Wc(h,l,r.key,G),la.forEach(C=>o.add(C))}return e({set:q,get:p,reset:function(r){q(r,Xc)}},k),[l,o]}}):xb({key:b,options:a,get:g})};const{loadableWithValue:P}=Ca,{DEFAULT_VALUE:Ga,DefaultValue:ia,registerNode:$c}=E,{isRecoilValue:ad}=M,{mapByDeletingFromMap:ja,mapBySettingInMap:zb,setByAddingToSet:bd}=$;function Ab(a){const{default:b,...c}=a;return ad(b)||s(b)?function(d){const e=Ab({...d,default:Ga,persistence_UNSTABLE:void 0===d.persistence_UNSTABLE?void 0:{...d.persistence_UNSTABLE,validator:f=>f instanceof ia?f:I(d.persistence_UNSTABLE).validator(f,Ga)}});return ha({key:d.key+"__withFallback",get:({get:f})=>{const i=f(e);return i instanceof ia?d.default:i},set:({set:f},i)=>f(e,i),dangerouslyAllowMutability:d.dangerouslyAllowMutability})}({...c,default:b}):function(d){const{key:e,persistence_UNSTABLE:f}=d;return $c({key:e,options:d,get:(i,g)=>{if(g.atomValues.has(e))return[g,I(g.atomValues.get(e))];if(g.nonvalidatedAtoms.has(e)){if(null==f)return[g,P(d.default)];const h=g.nonvalidatedAtoms.get(e),j=f.validator(h,Ga);return j instanceof ia?[{...g,nonvalidatedAtoms:ja(g.nonvalidatedAtoms,e)},P(d.default)]:[{...g,atomValues:zb(g.atomValues,e,P(j)),nonvalidatedAtoms:ja(g.nonvalidatedAtoms,e)},P(j)]}return[g,P(d.default)]},set:(i,g,h)=>(!0!==d.dangerouslyAllowMutability&&ea(h),[{...g,dirtyAtoms:bd(g.dirtyAtoms,e),atomValues:h instanceof ia?ja(g.atomValues,e):zb(g.atomValues,e,P(h)),nonvalidatedAtoms:ja(g.nonvalidatedAtoms,e)},new Set([e])])})}({...c,default:b})}var Ha=Ab,W=function(a,b={allowFunctions:!1}){return function c(d,e,f){if("string"==typeof d&&!d.includes('"')&&!d.includes("\\"))return`"${d}"`;switch(typeof d){case"undefined":return"";case"boolean":return d?"true":"false";case"number":case"symbol":return String(d);case"string":return JSON.stringify(d);case"function":if(!0!==(null==e?void 0:e.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${d.name})__`}return null===d?"null":"object"!=typeof d?null!==(i=JSON.stringify(d))&&void 0!==i?i:"":s(d)?"__PROMISE__":Array.isArray(d)?`[${d.map((g,h)=>c(g,e,h.toString()))}]`:"function"==typeof d.toJSON?c(d.toJSON(f),e,f):d instanceof Map?c(Array.from(d).reduce((g,[h,j])=>({...g,["string"==typeof h?h:c(h,e)]:j}),{}),e,f):d instanceof Set?c(Array.from(d).sort((g,h)=>c(g,e).localeCompare(c(h,e))),e,f):null!=d[Symbol.iterator]&&"function"==typeof d[Symbol.iterator]?c(Array.from(d),e,f):`{${Object.keys(d).filter(g=>void 0!==d[g]).sort().map(g=>`${c(g,e)}:${c(d[g],e,g)}`).join(",")}}`;var i}(a,b)},Bb=function(){const a=new Map(),b={get:c=>a.get(W(c)),set:(c,d)=>(a.set(W(c),d),b),map:a};return b};let cd=0;var F=function(a){var b,c;let d=null!==(b=null===(c=a.cacheImplementationForParams_UNSTABLE)||void 0===c?void 0:c.call(a))&&void 0!==b?b:Bb();return e=>{var f,i;const g=d.get(e);if(null!=g)return g;const h=`${a.key}__selectorFamily/${null!==(f=W(e,{allowFunctions:!0}))&&void 0!==f?f:"void"}/${cd++}`,j=o=>a.get(e)(o),k=null===(i=a.cacheImplementation_UNSTABLE)||void 0===i?void 0:i.call(a);let l;if(null!=a.set){const o=a.set;l=ha({key:h,get:j,set:(p,q)=>o(e)(p,q),cacheImplementation_UNSTABLE:k,dangerouslyAllowMutability:a.dangerouslyAllowMutability})}else l=ha({key:h,get:j,cacheImplementation_UNSTABLE:k,dangerouslyAllowMutability:a.dangerouslyAllowMutability});return d=d.set(e,l),l}},Ia=ra(Object.freeze({__proto__:null}));const{DEFAULT_VALUE:X,DefaultValue:Ja}=E;function dd(a,b){return tb(b,c=>a.has(c))}const ed=(a,b)=>Array.from(b).reduce((c,d)=>({...c,[d]:a[d]}),{});function fd(a){if(null==a)return;const{...b}=a;return{...b,validator:c=>c instanceof Ia?new Ia(c.value.filter(([d,e])=>d instanceof Set&&e instanceof Map).map(([d,e])=>[d,Array.from(e.entries()).reduce((f,[i,g])=>{const h=b.validator(g,X);return h instanceof Ja||f.set(i,h),f},new Map())])):b.validator(c,X)}}var gd=function(a){let b=Bb();const c={key:a.key,default:X,persistence_UNSTABLE:fd(a.persistence_UNSTABLE)};let d;d=Ha(c);const e=F({key:a.key+"__atomFamily/Default",get:f=>({get:i})=>{const g=i("function"==typeof d?d(f):d);if(!(g instanceof Ja)){const h=function(j,k){if(!(j instanceof Ia))return j;if("object"!=typeof k||null==k||Array.isArray(k))return X;const l=j.value,o=new Set(Object.keys(k));for(const[p,q]of l)if(dd(o,p)){const r=o.size===p.size?k:ed(k,p),v=q.get(W(r));if(void 0!==v)return v}return X}(g,f);if(!(h instanceof Ja))return h}return"function"==typeof a.default?a.default(f):a.default},dangerouslyAllowMutability:a.dangerouslyAllowMutability});return f=>{var i;const g=b.get(f);if(null!=g)return g;const h=Ha({key:`${a.key}__${null!==(i=W(f))&&void 0!==i?i:"void"}`,default:e(f),persistence_UNSTABLE:a.persistence_UNSTABLE,dangerouslyAllowMutability:a.dangerouslyAllowMutability});return b=b.set(f,h),h}};const hd=F({key:"__constant",get:a=>()=>a,cacheImplementationForParams_UNSTABLE:Da});var id=function(a){return hd(a)};const jd=F({key:"__error",get:a=>()=>{throw new Error(a)},cacheImplementationForParams_UNSTABLE:Da});var kd=function(a){return jd(a)},ld=function(a){return a};const{loadableWithError:Cb,loadableWithPromise:Db,loadableWithValue:Eb}=Ca;function Ka(a,b){const c=Array(b.length).fill(void 0),d=Array(b.length).fill(void 0);for(const[e,f]of b.entries())try{c[e]=a(f)}catch(i){d[e]=i}return[c,d]}function ka(a){return null!=a&&!s(a)}function La(a){return Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(b=>a[b])}function Ma(a,b){return Array.isArray(a)?b:Object.getOwnPropertyNames(a).reduce((c,d,e)=>({...c,[d]:b[e]}),{})}function Na(a,b,c){return Ma(a,c.map((d,e)=>null==d?Eb(b[e]):s(d)?Db(d):Cb(d)))}var md={waitForNone:F({key:"__waitForNone",get:a=>({get:b})=>{const c=La(a),[d,e]=Ka(b,c);return Na(a,d,e)}}),waitForAny:F({key:"__waitForAny",get:a=>({get:b})=>{const c=La(a),[d,e]=Ka(b,c);if(e.some(f=>null==f))return Na(a,d,e);throw e.every(ka)?e.find(ka):new Promise((f,i)=>{for(const[g,h]of e.entries())s(h)&&h.then(j=>{d[g]=j,e[g]=null,f(Na(a,d,e))}).catch(j=>{e[g]=j,e.every(ka)&&i(e[0])})})}}),waitForAll:F({key:"__waitForAll",get:a=>({get:b})=>{const c=La(a),[d,e]=Ka(b,c);if(e.every(i=>null==i))return Ma(a,d);const f=e.find(ka);throw null!=f?f:Promise.all(e).then(i=>Ma(a,i))}}),noWait:F({key:"__noWait",get:a=>({get:b})=>{try{return Eb(b(a))}catch(c){return s(c)?Db(c):Cb(c)}}})};const{DefaultValue:nd}=E,{RecoilRoot:od}=mb,{isRecoilValue:pd}=M,{useGotoRecoilSnapshot:qd,useRecoilCallback:rd,useRecoilSnapshot:sd,useRecoilState:td,useRecoilStateLoadable:ud,useRecoilTransactionObserver:vd,useRecoilValue:wd,useRecoilValueLoadable:xd,useResetRecoilState:yd,useSetRecoilState:zd,useSetUnvalidatedAtomValues:Ad,useTransactionObservation_DEPRECATED:Bd}=Nc,{noWait:Cd,waitForAll:Dd,waitForAny:Ed,waitForNone:Fd}=md;var n={DefaultValue:nd,RecoilRoot:od,atom:Ha,selector:ha,atomFamily:gd,selectorFamily:F,constSelector:id,errorSelector:kd,readOnlySelector:ld,useRecoilValue:wd,useRecoilValueLoadable:xd,useRecoilState:td,useRecoilStateLoadable:ud,useSetRecoilState:zd,useResetRecoilState:yd,useRecoilCallback:rd,useGotoRecoilSnapshot:qd,useRecoilSnapshot:sd,useRecoilTransactionObserver_UNSTABLE:vd,useTransactionObservation_UNSTABLE:Bd,useSetUnvalidatedAtomValues_UNSTABLE:Ad,noWait:Cd,waitForNone:Fd,waitForAny:Ed,waitForAll:Dd,isRecoilValue:pd},Gd=n.DefaultValue,Hd=n.RecoilRoot,Id=n.atom,Jd=n.selector,Kd=n.atomFamily,Ld=n.selectorFamily,Md=n.constSelector,Nd=n.errorSelector,Od=n.readOnlySelector,Pd=n.useRecoilValue,Qd=n.useRecoilValueLoadable,Rd=n.useRecoilState,Sd=n.useRecoilStateLoadable,Td=n.useSetRecoilState,Ud=n.useResetRecoilState,Vd=n.useRecoilCallback,Wd=n.useGotoRecoilSnapshot,Xd=n.useRecoilSnapshot,Yd=n.useRecoilTransactionObserver_UNSTABLE,Zd=n.useTransactionObservation_UNSTABLE,_d=n.useSetUnvalidatedAtomValues_UNSTABLE,$d=n.noWait,ae=n.waitForNone,be=n.waitForAny,ce=n.waitForAll,de=n.isRecoilValue;m.DefaultValue=Gd,m.RecoilRoot=Hd,m.atom=Id,m.atomFamily=Kd,m.constSelector=Md,m.default=n,m.errorSelector=Nd,m.isRecoilValue=de,m.noWait=$d,m.readOnlySelector=Od,m.selector=Jd,m.selectorFamily=Ld,m.useGotoRecoilSnapshot=Wd,m.useRecoilCallback=Vd,m.useRecoilSnapshot=Xd,m.useRecoilState=Rd,m.useRecoilStateLoadable=Sd,m.useRecoilTransactionObserver_UNSTABLE=Yd,m.useRecoilValue=Pd,m.useRecoilValueLoadable=Qd,m.useResetRecoilState=Ud,m.useSetRecoilState=Td,m.useSetUnvalidatedAtomValues_UNSTABLE=_d,m.useTransactionObservation_UNSTABLE=Zd,m.waitForAll=ce,m.waitForAny=be,m.waitForNone=ae}),Lb=Qa(function(Ra){Ra.exports=Kb});export default Lb;
